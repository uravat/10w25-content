<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>WORKSHEET: Working with Local Installation of Rstudio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Worksheet_Local_Rstudio_files/libs/clipboard/clipboard.min.js"></script>
<script src="Worksheet_Local_Rstudio_files/libs/quarto-html/quarto.js"></script>
<script src="Worksheet_Local_Rstudio_files/libs/quarto-html/popper.min.js"></script>
<script src="Worksheet_Local_Rstudio_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Worksheet_Local_Rstudio_files/libs/quarto-html/anchor.min.js"></script>
<link href="Worksheet_Local_Rstudio_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Worksheet_Local_Rstudio_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Worksheet_Local_Rstudio_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Worksheet_Local_Rstudio_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Worksheet_Local_Rstudio_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">0. Introduction</a></li>
  <li><a href="#preliminaries" id="toc-preliminaries" class="nav-link" data-scroll-target="#preliminaries">1. Preliminaries</a></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">2. Getting Started</a></li>
  <li><a href="#headers" id="toc-headers" class="nav-link" data-scroll-target="#headers">3. Headers</a></li>
  <li><a href="#text-formatting" id="toc-text-formatting" class="nav-link" data-scroll-target="#text-formatting">4. Text Formatting</a></li>
  <li><a href="#inline-code" id="toc-inline-code" class="nav-link" data-scroll-target="#inline-code">5. Inline Code</a></li>
  <li><a href="#itemized-and-enumerated-lists" id="toc-itemized-and-enumerated-lists" class="nav-link" data-scroll-target="#itemized-and-enumerated-lists">6. Itemized and Enumerated Lists</a></li>
  <li><a href="#equations-in-rmarkdown" id="toc-equations-in-rmarkdown" class="nav-link" data-scroll-target="#equations-in-rmarkdown">7. Equations in RMarkdown</a></li>
  <li><a href="#links-and-images" id="toc-links-and-images" class="nav-link" data-scroll-target="#links-and-images">8. Links and Images</a></li>
  <li><a href="#table-of-contents" id="toc-table-of-contents" class="nav-link" data-scroll-target="#table-of-contents">9. Table of Contents</a></li>
  <li><a href="#final-touches" id="toc-final-touches" class="nav-link" data-scroll-target="#final-touches">10. Final Touches</a></li>
  <li><a href="#summary-and-report" id="toc-summary-and-report" class="nav-link" data-scroll-target="#summary-and-report">11. Summary and report</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">WORKSHEET: Working with Local Installation of Rstudio</h1>
<p class="subtitle lead">PSTAT 10, with Dr.&nbsp;Uma Ravat <br> Worksheet Originally Created by Ethan Marzban</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">0. Introduction</h2>
<p>Welcome to Worksheet on Working with Local Installation of Rstudio! This worksheet is designed to help re-familiarize you with the syntax of RMarkdown. By the end of this worksheet, you should have a nicely-formatted report, which we will generate using an <code>.Rmd</code> file.</p>
</section>
<section id="preliminaries" class="level2">
<h2 class="anchored" data-anchor-id="preliminaries">1. Preliminaries</h2>
<p>First make sure you have downloaded RStudio to your local machine; you should have done this in Lecture. We will be generating our report using your downloaded (local) version of RStudio.</p>
</section>
<section id="getting-started" class="level2">
<h2 class="anchored" data-anchor-id="getting-started">2. Getting Started</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Create a new <code>.Rmd</code> file using the steps outlined in a previous Lecture and Lab. Update your YAML header to accomplish the following:</p>
<ul>
<li>Set the title of your document to be “Worksheet #”</li>
<li>Set the author of your document to be your name (so, for example, the author of my document would be “Ethan M”)</li>
<li>Set the date to be the date of your Lab Section this week</li>
</ul>
</div>
</div>
<p>Hopefully this is a bit of a review- after all, we’re all pros at YAML headers now!<br>
</p>
<p>Now, the first chunk you should see looks like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is called the <code>setup</code> chunk: do <strong>NOT</strong> change or delete this chunk! This Instead:</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Delete everything after the <code>setup</code> chunk. Then, knit your document and ensure you don’t have any errors.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Throughout this worksheet, you should get into the habit of knitting after each action item to ensure that you don’t have too many errors compounding.</p>
</div>
</div>
</section>
<section id="headers" class="level2">
<h2 class="anchored" data-anchor-id="headers">3. Headers</h2>
<p>Now that we have a blank slate to work with, we can repopulate our document with things that we actually want! The first thing we should do is go over how to create headers in RMarkdown syntax.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<p>There are several different “levels” of headers:</p>
<ul>
<li>A main (first-level) header</li>
<li>A second-level header</li>
<li>A third-level header</li>
<li>And so on and so forth</li>
</ul>
<p>In RMarkdown, the level of the header is specified by how many hashtags (<code>#</code>’s) we include before the header text.</p>
</div>
</div>
<p>For example: all of the headers used in this explanation document are second-level headers.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Add a first-level (main) header right after the <code>setup</code> code chunk, and have it say <code>Section 1</code>. Knit your document, and ensure it displays properly.</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>After your first-level (main) <code>Section 1</code> header, add a second-level header that says <code>Subsection 1.1</code>. Again, knit your document and ensure that this header appears smaller than the first-level (main) header you created in the action item above.</p>
</div>
</div>
</section>
<section id="text-formatting" class="level2">
<h2 class="anchored" data-anchor-id="text-formatting">4. Text Formatting</h2>
<p>Obviously, a document can’t be comprised solely of headers- we need text! As we have seen before, text written in your <code>.Rmd</code> file will display exactly as it is written, in your final knitted <code>.html</code> document. That is: when we write a sentence in our <code>.Rmd</code> file and then knit our file, our knitted <code>.html</code> file contains the text we wrote.<br>
</p>
<p>We can, however, also spice up the formatting of our text!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<p>There are several different text formatting options available to us in RMarkdown:</p>
<ul>
<li><strong>Boldface Text</strong>: <code>**Boldface Text**</code></li>
<li><em>Italicized Text</em>: <code>*Italicized Text*</code></li>
<li><code>Fixed-Width Text</code>: <code>`Fixed-Width Text`</code></li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Underneath your second-level header <code>"Subsection 1.1"</code>, write the following sentence <strong>including all formatting as it appears here</strong>:</p>
<blockquote class="blockquote">
<p>The <strong>quick</strong> brown fox <em>jumps</em> over the <code>lazy</code> dog</p>
</blockquote>
</div>
</div>
<p>By the way, notice how we managed to display the sentence above as a block-quote? The syntax to do that in RMarkdown is using a single <code>&gt;</code> symbol, followed by a space. For example,</p>
<blockquote class="blockquote">
<p>This text</p>
</blockquote>
<p>was generated using the code <code>&gt; This text</code>.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>Be mindful about line breaks and spaces when using RMarkdown syntax.</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Underneath your “quick brown fox” text, add a block-quote that says</p>
<blockquote class="blockquote">
<p>That was a really cool sentence!</p>
</blockquote>
<p>Knit your document, and ensure the block-quote is displaying properly. (Again: remember the Important Information callout we just mentioned above!)</p>
</div>
</div>
</section>
<section id="inline-code" class="level2">
<h2 class="anchored" data-anchor-id="inline-code">5. Inline Code</h2>
<p>We’ve spent the better part of a quarter talking about <code>R</code> code. In the past, when we’ve needed to run <code>R</code> in our <code>.Rmd</code> file, we’ve added a code chunk. Let’s practice doing that once more:</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Make a new first-level (main) header called <code>Section 2: Coding</code>. Right underneath your header, include an <code>R</code> code chunk which runs and displays the output of <code>2 + 2</code>. Your output should look something like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
</div>
</div>
<p>Did you know we can run code inline as well? That is, we can run <code>R</code> code without having to create a new chunk each time!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<p>To run inline code, use a backtick (<code>`</code>) followed by the letter <code>r</code>, followed by a space, then followed by the code you want to run, followed by a closing backtick. For example: <code>`</code> <code>r</code> <code>2 + 2</code> <code>`</code> (without the spaces) should simply display as the number “4” in your knitted document.</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Write the following sentence underneath the code chunk you just created, replacing the number <code>3</code> with inline <code>R</code> code to compute <code>1 + 2</code>.</p>
<blockquote class="blockquote">
<p>The result of adding 1 and 2 together is 3</p>
</blockquote>
</div>
</div>
</section>
<section id="itemized-and-enumerated-lists" class="level2">
<h2 class="anchored" data-anchor-id="itemized-and-enumerated-lists">6. Itemized and Enumerated Lists</h2>
<p>We’ve actually covered how to create lists already- remember in Homework 2 when we asked you to write a list of the functions you learned in Lecture 4?</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<p>There are two main types of lists: <strong>itemized</strong> and <strong>enumerated</strong> lists. Itemized lists have no implicit ordering: these are sometimes called “bulleted” lists, and they look like this:</p>
<ul>
<li>Item 1</li>
<li>Item 2</li>
<li>Item 3</li>
</ul>
<p>Enumerated lists <em>do</em> have an implicit ordering:</p>
<ol type="1">
<li>Item 1</li>
<li>Item 2</li>
<li>Item 3</li>
</ol>
<p>In RMarkdown, itemized lists are created by navigating to a new line, writing a dash (<code>-</code>) or an asterisk (<code>*</code>), followed by a space, followed by the text you wish to have displayed in the corresponding item. For instance: the itemized list above was generated using the code</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Item <span class="dv">1</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Item <span class="dv">2</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Item <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In RMarkdown, enumerated lists are created by navigating to a new line, writing the number of the item (e.g.&nbsp;1, 2, etc.) either either a close-parenthesis (<code>)</code>), or a period (<code>.</code>) For instance: both of the following codes will knit to an enumerated list:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="er">)</span> Item <span class="dv">1</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="er">)</span> Item <span class="dv">2</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="er">)</span> Item <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fl">1.</span> Item <span class="dv">1</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fl">2.</span> Item <span class="dv">2</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fl">3.</span> Item <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To add sublevel items, navitage to a new line, hit the space bar 4 times, and then add the corresponding item symbol (i.e.&nbsp;<code>-</code> or <code>*</code> for itemized lists; <code>1)</code> or <code>a)</code> or <code>1.</code> or <code>a.</code> for enumerated lists; etc.)</p>
<ul>
<li>As an example, this is a main-level item
<ul>
<li>Followed by a sublevel item!</li>
</ul></li>
</ul>
<p>This was generated using</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> As an example, this is a main<span class="sc">-</span>level item</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span> Followed by a sublevel item<span class="sc">!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Add a new first-level header to your document that says <code>Section 3: Itemized and Enumerated Lists</code>. Underneath this, include the following list (making sure it displays properly when you knit!)</p>
<ul>
<li>Foreign keys must either point to an existing value or be NULL.
<ul>
<li>This is related to the “integrity” of a database.</li>
<li>Database integrity is very important</li>
</ul></li>
</ul>
</div>
</div>
<p>Congratulations- you’ve unlocked the secret key-phrase for this worksheet! At the very top of your document (before your first first-level header) write the phrase <code>I am now an expert coder.</code> This will signal to the grader that you read the contents of this tutorial fully, and will ensure you get full points for this worksheet! (Keep in mind that you will not receive full credit if you don’t include this key-phrase.)</p>
</section>
<section id="equations-in-rmarkdown" class="level2">
<h2 class="anchored" data-anchor-id="equations-in-rmarkdown">7. Equations in RMarkdown</h2>
<p>One of the very nice things about RMarkdown is that it is able to (very nicely) combine both plain-text as well as equations!<br>
</p>
<p>The language used to specify equations in RMarkdown is called <code>LaTeX</code> (pronounced “lay-TECH”, or “lah-TECH”). LaTeX equations have two main styles: inline, like <span class="math inline">\(x + y\)</span>, and “display-style”, like <span class="math display">\[ \sum_{i=1}^{k} x_i \]</span></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<p>In LaTeX, inline equations are specified by single dollar signs and display-style equations are specified by double-dollar signs. For instance:</p>
<ul>
<li><code>$x + y$</code> will knit as <span class="math inline">\(x + y\)</span></li>
<li><code>$$x + y$$</code> will knit as <span class="math display">\[x + y\]</span></li>
</ul>
<p>Make sure you do <strong>not</strong> add a space after your starting dollar sign or before your ending dollar sign; otherwise your document will not knit properly!</p>
</div>
</div>
<p>Inside either an inline or display-style equation environment, we can use LaTeX-specific syntax to generate equations.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Standard mathematical symbols display in LaTeX as they would in text: this includes addition (<code>+</code>), subtraction (<code>-</code>), division (<code>/</code>), and multiplication (<code>*</code>).</li>
<li>Exponents are generated using the caret (<code>^</code>): for example, <code>$x^2$</code> displays as <span class="math inline">\(x^2\)</span></li>
<li>Subscripts are generated using the underscore (<code>_</code>): for example, <code>$x_2$</code> displays as <span class="math inline">\(x_2\)</span></li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Add a first-level (main) header that says <code>"Section 4: Typesetting Equations"</code>, and underneath it write the following sentence (including all LaTeX formatting!):</p>
<blockquote class="blockquote">
<p>The Pythagorean Theorem states that <span class="math inline">\(a^2 + b^2 = c^2\)</span>.</p>
</blockquote>
<p>Knit your document, and ensure it displays properly.</p>
</div>
</div>
<p>We can also typeset more advanced formulas and symbols:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>Sums (using sigma-notation) are generated using the <code>\sum</code> command: for example, <code>$\sum_{x = 0}^{1} x$</code> displays as <span class="math inline">\(\sum_{x = 0}^{1} x\)</span></p></li>
<li><p>Integrals (using sigma-notation) are generated using the <code>\int</code> command: for example, <code>$\int_{a}^{b} f(x) \ dx$</code> displays as <span class="math inline">\(\int_{a}^{b} f(x) \ dx\)</span></p></li>
<li><p>Fractions are generated using the <code>\frac</code> command: for example, <code>$\frac{1}{2}$</code> displays as <span class="math inline">\(\frac{1}{2}\)</span></p></li>
<li><p>Square-roots are generated using the <code>\sqrt</code> command: for example, <code>$\sqrt{2}$</code> displays as <span class="math inline">\(\sqrt{2}\)</span></p></li>
<li><p>The symbol <span class="math inline">\(\pi\)</span> is generated using <code>$\pi$</code></p></li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<p>In LaTeX, curly braces (<code>{</code>, <code>}</code>) are used to delineate “chunks” of code/text. For example, if you just write <code>$x^-2$</code>, this displays as <span class="math inline">\(x^-2\)</span>. If we want to display <span class="math inline">\(x^{-2}\)</span>, we need to use <code>$x^{-2}$</code>.</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Add the following equation to your document: <span class="math display">\[ \int_{-\infty}^{\infty} e^{-\frac{1}{2} x^2 } \ dx = \sqrt{2\pi} \]</span></p>
</div>
</div>
<p>There is nothing stopping us from including equations in itemized and enumerated lists!</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Add the following list to your document, ensuring that it displays properly when knit:</p>
<ul>
<li><strong>Pythagorean Theorem:</strong> <span class="math inline">\(a^2 + b^2 = c^2\)</span></li>
<li><strong>Euler’s Identity:</strong> <span class="math inline">\(e^{i \pi} + 1 = 0\)</span></li>
</ul>
</div>
</div>
<p>This is only just the surface of what LaTeX can do! If you are planning on going into any STEM-related field, we highly encourage you to delve deeper into the world of LaTeX as it will be a very valuable skill to have.</p>
</section>
<section id="links-and-images" class="level2">
<h2 class="anchored" data-anchor-id="links-and-images">8. Links and Images</h2>
<p>Sometimes it is necessary to include hyperlinks and/or images. With RMarkdown, this is fairly straightforward!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<p>The syntax of including a hyperlink in an <code>.Rmd</code> document is as follows:</p>
<blockquote class="blockquote">
<p><code>[text](link)</code></p>
</blockquote>
<p>For example, <a href="https://google.com">Click Here</a> was generated using <code>[Click Here](https://google.com)</code>.</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Make a new first-level header in your document called <code>Section 5: Links and Images</code>. Underneath this header, create clickable text that says “<code>PSTAT Department Website</code>” and, when clicked, navigates the user to the main website of the Department of Statistics and Applied Probability here at UCSB (https://pstat.ucsb.edu). Your final result should look and function like <a href="https://pstat.ucsb.edu">PSTAT Department Website</a>.</p>
</div>
</div>
<p>The syntax of including images is fairly similar to the syntax used to create hyperlinks!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<p>The syntax of including an image in an <code>.Rmd</code> document is as follows:</p>
<blockquote class="blockquote">
<p><code>![caption (optional)](filepath to image)</code></p>
</blockquote>
<p>where “filepath to image” should be replaced by the filepath to the image.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>When including images, filepaths are very important. As such, it is a good idea to make sure your working directory is set properly.</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Along with this worksheet description, you should see a folder called <code>Images</code>; inside this folder should be a file called <code>grapes.jpg</code>. Include this image in your <code>.Rmd</code> file with the caption “A Photo of Grapes”.</p>
</div>
</div>
<p>Wow, that photo of grapes is pretty big, huh? Let’s fix that.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<p>To resize an image, we can add an (optional) specification to our code to control the size of the image. For example</p>
<blockquote class="blockquote">
<p><code>![caption (optional)](filepath to image){width=50%}</code></p>
</blockquote>
<p>shrinks the image to 50% of its original width, while automatically shrinking the height to maintain the same height-to-width ratio.</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Resize the picture of grapes to be 50% of its original width.</p>
</div>
</div>
</section>
<section id="table-of-contents" class="level2">
<h2 class="anchored" data-anchor-id="table-of-contents">9. Table of Contents</h2>
<p>By now, we have quite a few sections and subsections in our document. It’s probably a good idea to include a table of contents!</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Look up how to add a table of contents to an <code>.Rmd</code> file. As a hint: you will need to modify your <code>YAML</code> header.</p>
</div>
</div>
</section>
<section id="final-touches" class="level2">
<h2 class="anchored" data-anchor-id="final-touches">10. Final Touches</h2>
<p>We’ve covered a lot of ground! Let’s go ahead and start to close out this worksheet.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Knit your document and check that everything displays properly.</p>
</div>
</div>
<p>Now, one thing we should cover is how to knit to different formats! For this class, we’ve been asking you to knit exclusively to <code>.html</code> files. <code>.Rmd</code> files can be knitted to lots of other formats as well- most notably, we can also generate <code>.PDF</code>’s from <code>.Rmd</code> files!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<p>To knit to a <code>.PDF</code>, click the downwards-facing arrow next to the “knit” button and select “Knit to PDF.”</p>
<p><img src="Images/knitting_to_pdf.jpg" class="img-fluid" style="width:75.0%"></p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Knit your document to a <code>.PDF</code>. After you’ve successfully knitted to a PDF, check your <code>.Rmd</code> file again and comment on what has changed (<strong>Hint:</strong> Look at the YAML header).</p>
</div>
</div>
<p>You may notice that the fontsize in the PDF is a bit on the smaller size- let’s change that!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Information
</div>
</div>
<div class="callout-body-container callout-body">
<p>When knitting to a PDF, we can use the <code>fontsize:</code> argument in the YAML header to specify font size</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Modify your YAML header to change the base fontsize of your document to 12pt. Knit your document again, and visually confirm that the fontsize has increased.</p>
</div>
</div>
<p>The title also looks a little boring… let’s spruce it up!</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Change the title of your document to <strong>WORKSHEET #</strong>, making sure the title properly knits to all-caps and boldface text.</p>
</div>
</div>
<p>Also, did you notice that when you knit to a <code>.PDF</code>, your hyperlinks don’t get colored like they do when you knit to an <code>.html</code> document? Let’s fix that.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Action Item
</div>
</div>
<div class="callout-body-container callout-body">
<p>Look up how to change the color of hyperlinked text in an RMarkdown document (<strong>Hint:</strong> you will need to modify your YAML header); then set your document to display all hyperlinked text in blue.</p>
</div>
</div>
</section>
<section id="summary-and-report" class="level2">
<h2 class="anchored" data-anchor-id="summary-and-report">11. Summary and report</h2>
<p>Congratulations- you have finished creating your first formatted <code>.Rmd</code> file from scratch! This tutorial only <em>scratched</em> (no pun intended) the surface of what RMakrdown can do- we highly encourage you to take a look at the RMarkdown cheat sheet for more information on what other functionality <code>.Rmd</code> documents offer.</p>
<ul>
<li>Knit your document to an <code>.html</code> file</li>
<li>Then, knit your document to a <code>.PDF</code> file</li>
</ul>
<!--
::: {.callout-important}

## Action Item

Navigate to the submission portal on Canvas. You should see that there are two "questions" in this week's portal.

- Knit your document to an `.html` file and upload this `.html` file to the first question in Canvas

- Then, knit your document to a `.PDF` file and upload this `.PDF` file to the second question in Canvas

:::

-->
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>